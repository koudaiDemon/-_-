# study_IO
自己的第一篇日志
文件下载
项目任务:从一个URL路径下载指定的文件到本地
  实现多线程下载
  实现下载时进度监控
  实现断点下载
涉及知识点:
  文件的读取与写入（IO）
  线程的创建与使用（多线程）
  网络的请求与响应（网络编程）
  Java基础知识以及面向对象编程
实现流程:
  实现单线程的任务下载，首先通过URL来获取一个输入流以及创建连接，利用抽象类URLConnection的子类HttpURLConnection来获取连接对象，通过对象来进行相关配置，如请求方式:GET,请求时间:10s。然后通过方法获取字节输入流，然后通过IO中的缓冲流将节点流进行包装，再利用RandomAccessFile来进行写入，因为输出流中没有寻址的方式，不方便后面的多线程使用。
  当实现完单线程的下载以后就可以进行监控线程的创建，因为在1中已经使用过URL，同样，在监控进度线程中也需要通过URL来获取下载文件的总大小，然后通过File类中的读取文件大小的方法，获得当前文件的大小，再通过BigDecimal对long类型的文件大小进行除法处理，再通过NumberFormat对得到的结果进行格式化将其整理为百分数（如果想要自己的格式，需要使用DecimalFromat进行格式转换）
  实现完监控进度线程以后完成多线程下载，多线程下载的目的是希望合理利用电脑的CPU进行任务调度，(1)多线程下载实则就是对源文件进行分割下载，然后各线程独自进行任务(2)所以多线程的实现需要给线程传递参数（字符串url，起始下载点，终止下载点，本地目录）
  实现段点下载就是在下载的时候同时需要记录当前线程下载的位置，然后通过文件进行保存，所以在实现断点下载的时候，(1)利用RandomAccessFile对本地目录进行读写，因为在本类中存在读写long类型的方法(2)每次下载的时候都需要读取线程伴随文件的内容，然后通过读取到的内容进行寻址，如果没有读到文件的内容需要用异常来处理，是起始位置为参数位置(3)线程伴随文件需要在任务正常结束后删除。
心得体会:以前的学习总感觉特别痛苦，因为自己总是学习理论上的知识，但是没有过实践，但是当自己想要实践的时候，又不知道从何处做起，因为对知识不能进行融会贯通，就如同每个知识都在独自的线程上进行运动，当看到这个任务的时候，其实开始还是有点不知所措，但是好在这些任务进行分解以后都是自己已经做过的，所以，开始的害怕瞬间荡然无存，面对问题，要敢于解决问题，将问题进行细分，然后对一个个小问题进行解决。其实在做题的时候遇到了好多问题，也留下了好多bug，比如，开始的时候对文件进行监控，算出来的结果一直都是0.0，好在想到前两天自己也遇到过同样的问题，所以顺利解决了。然后再最后删除线程伴随文件的时候，自己又一次遇到了问题。因为，我发现文件居然删除不了，好在通过老师的指导自己解决了，原来删除文件需要写在流的关闭以后。然后就是程序成功运行的喜悦，而我也坚信编程的过程就是遇见问题，解决问题的过程，以梦为马，不负韶华！
